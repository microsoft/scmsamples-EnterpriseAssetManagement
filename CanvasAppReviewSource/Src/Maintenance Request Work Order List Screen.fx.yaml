"'Maintenance Request Work Order List Screen' As screen":
    Fill: =gblAppColors.Background
    OnHidden: |-
        =UpdateContext({locCreateMode:""});
    OnVisible: |-
        =Reset(galMRCreateWorkOrdersList);
        
        Set(gblPreviousScreen, Self)

    galMRCreateWorkOrdersList As gallery.variableTemplateHeightGallery:
        '#CopilotOverlayLabel': ="Filtered"
        Default: ={}
        Height: =Parent.Height - conCreateMRHWOHeader.Height
        Items: |+
            =ForAll(
                GroupBy(
                    //Filter with Asset or Functional location
                    If(
                        locCreateMode = C.Creation.CreateFromLocation,
                        Filter(
                            'Asset management work order jobs V2 (mserp)',
                            'Company Code' = locAsset.'Company Code',
                            'Functional location' = locAsset.'Functional location',
                            'Asset management work orders V2'.Active = 'NoYes (mserp)'.Yes
                        ),
                        
                        locCreateMode = C.Creation.CreateFromAsset,
                        Filter(
                            'Asset management work order jobs V2 (mserp)',
                            'Company Code' = locAsset.'Company Code',
                            Asset = locAsset.'Asset (mserp_maintenanceassetid)',
                            'Asset management work orders V2'.Active = 'NoYes (mserp)'.Yes
                        )
                    ),
                    //Group By 
                    'Work order',
                    WorkOrderJobs
                ),
                {
                    WorkOrder: First(WorkOrderJobs).'Asset management work orders V2'
                }
            )
                
                
                
            
            
            
            
        Layout: =Layout.Vertical
        ShowScrollbar: =false
        TemplatePadding: =0
        TemplateSize: =195
        Width: =Parent.Width
        Y: =conCreateMRHWOHeader.Height
        ZIndex: =2

        htmMRCreateCardBackgroundWOS As htmlViewer:
            DisabledBorderColor: =
            Height: =Parent.TemplateHeight
            HtmlText: |-
                ="<div style=""padding: 5px 8px 10px;height:100%;position:absolute;width:100%;box-sizing:border-box;""><div style=""background-color:#fff;box-shadow:0px 2px 4px rgba(0,0,0,0.14),0px 0px 2px rgba(0,0,0, 0.12);border-radius:15px;height:100%;width:100%;""></div></div>"
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            Width: =Parent.Width
            ZIndex: =1

        conMRCreateWorkOrdersDetails As groupContainer.verticalAutoLayoutContainer:
            Height: =Parent.TemplateHeight
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =4
            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
            LayoutMode: =LayoutMode.Auto
            PaddingBottom: =20
            PaddingLeft: =20
            PaddingRight: =20
            PaddingTop: =24
            Width: =Parent.TemplateWidth
            ZIndex: =2

            lblMRCreateWorkOrderIdWOS As label:
                Color: |
                    =gblAppColors.Tag
                Font: =gblAppStyles.CommonFont
                FontWeight: =FontWeight.Normal
                Height: =Self.Size * 1.8
                LayoutMinHeight: =22
                OnSelect: =Select(galMRCreateWorkOrdersList)
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =gblAppStyles.Label.FontSize
                Text: =ThisItem.WorkOrder.'Work order'
                Width: =Parent.Width - Parent.PaddingLeft * 2
                X: =
                Y: =4
                ZIndex: =1

            lblMRWorkOrdersDescription As label:
                AutoHeight: =true
                Color: =gblAppColors.Tag
                Font: =gblAppStyles.HeadLine.Font
                FontWeight: =FontWeight.Semibold
                Height: =35
                LayoutMinHeight: =35
                LayoutMinWidth: =312
                OnSelect: =Select(galMRCreateWorkOrdersList)
                Overflow: =Overflow.Scroll
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =gblAppStyles.HeadLine.FontSize
                Text: =ThisItem.WorkOrder.Description
                Visible: =If(IsBlank(Self.Text),false,true)
                Width: =lblMRCreateWorkOrderIdWOS.Width
                X: =
                Y: =
                ZIndex: =2

            conMRWorkOrderType As groupContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =28
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                Width: =Parent.Width - Parent.PaddingLeft * 2
                ZIndex: =4

                lblTextMRWOT As label:
                    Color: =gblAppColors.Tag
                    Font: =gblAppStyles.CommonFont
                    FontWeight: =FontWeight.Semibold
                    Height: =28
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =gblAppStyles.Label.FontSize
                    Text: =ThisItem.WorkOrder.'Work order type'
                    Width: =Parent.Width - Self.X
                    Wrap: =false
                    X: =icoMRIconWOT.X + icoMRIconWOT.Width + 5
                    Y: =Parent.Height / 2 - Self.Height / 2
                    ZIndex: =2

                icoMRIconWOT As icon.DockCheckProperties:
                    Color: =RGBA(135, 100, 184, 1)
                    FocusedBorderThickness: =0
                    Height: =13
                    Icon: =Icon.Tag
                    Width: =13
                    Y: =Parent.Height / 2 - Self.Height / 2
                    ZIndex: =3

            conMRWorkOrderServiceLevel As groupContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =28
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                Width: =Parent.Width - Parent.PaddingLeft * 2
                ZIndex: =5

                lblTextMRWOSL As label:
                    Color: =gblAppColors.Tag
                    Font: =gblAppStyles.CommonFont
                    FontWeight: =FontWeight.Semibold
                    Height: =28
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =gblAppStyles.Label.FontSize
                    Text: =ThisItem.WorkOrder.'Service level'
                    Width: =Parent.Width - Self.X
                    Wrap: =false
                    X: =icoIconMRWOSL.X + icoIconMRWOSL.Width + 5
                    Y: =Parent.Height / 2 - Self.Height / 2
                    ZIndex: =2

                icoIconMRWOSL As icon.DockCheckProperties:
                    Color: =RGBA(175, 31, 117, 1)
                    FocusedBorderThickness: =0
                    Height: =13
                    Icon: =Icon.Flag
                    Width: =13
                    Y: =Parent.Height / 2 - Self.Height / 2
                    ZIndex: =3

            conMRWorkOrdersScheduled As groupContainer.horizontalAutoLayoutContainer:
                FillPortions: =0
                Height: =Max(conMRWorkOrdersScheduledStart.Height, conMRWorkOrdersScheduledEnd.Height)
                LayoutMinHeight: =50
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                ZIndex: =6

                conMRWorkOrdersScheduledStart As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: =lblMRWorkOrdersScheduledStartHeader.Height + lblMRWorkOrdersScheduledStart.Height
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =60
                    LayoutMinWidth: =100
                    LayoutMode: =LayoutMode.Auto
                    PaddingRight: =5
                    ZIndex: =2

                    lblMRWorkOrdersScheduledStartHeader As label:
                        AutoHeight: =true
                        Color: =RGBA(42,172,148, 1)
                        Font: =gblAppStyles.Label.Font
                        FontWeight: =FontWeight.Semibold
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingTop: =0
                        Size: =gblAppStyles.Label.FontSize
                        Text: =T.ScheduledStartLabel
                        Width: =Parent.Width
                        ZIndex: =1

                    lblMRWorkOrdersScheduledStart As label:
                        AutoHeight: =true
                        Color: =gblAppColors.Tag
                        Font: =gblAppStyles.Label.Font
                        FontWeight: =FontWeight.Semibold
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingTop: =0
                        Size: =gblAppStyles.Label.FontSize
                        Text: |-
                            =If(
                                ThisItem.WorkOrder.mserp_scheduledstart = Blank(),
                                C.EmDash,
                                DateAdd(
                                    ThisItem.WorkOrder.mserp_scheduledstart,
                                    -TimeZoneOffset(ThisItem.WorkOrder.mserp_scheduledstart),
                                    TimeUnit.Minutes
                                )
                            )
                        Width: =Parent.Width
                        ZIndex: =2

                conMRWorkOrdersScheduledEnd As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: =lblMRWorkOrdersScheduledEndHeader.Height + lblMRWorkOrdersScheduledEnd.Height
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =60
                    LayoutMinWidth: =100
                    LayoutMode: =LayoutMode.Auto
                    PaddingLeft: =5
                    ZIndex: =7

                    lblMRWorkOrdersScheduledEndHeader As label:
                        AutoHeight: =true
                        Color: =RGBA(209,52,56, 1)
                        Font: =gblAppStyles.Label.Font
                        FontWeight: =FontWeight.Semibold
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =gblAppStyles.Label.FontSize
                        Text: =T.ScheduledEndLabel
                        Width: =Parent.Width
                        ZIndex: =3

                    lblMRWorkOrdersScheduledEnd As label:
                        AutoHeight: =true
                        Color: =gblAppColors.Tag
                        Font: =gblAppStyles.Label.Font
                        FontWeight: =FontWeight.Semibold
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =gblAppStyles.Label.FontSize
                        Text: |-
                            =If(
                                ThisItem.WorkOrder.mserp_scheduledend = Blank(),
                                C.EmDash,
                                DateAdd(
                                    ThisItem.WorkOrder.mserp_scheduledend,
                                    -TimeZoneOffset(ThisItem.WorkOrder.mserp_scheduledend),
                                    TimeUnit.Minutes
                                )
                            )
                        Width: =Parent.Width
                        ZIndex: =4

    conCreateMRHWOHeader As groupContainer.manualLayoutContainer:
        Height: =54
        Width: =Parent.Width
        ZIndex: =3

        lblCreateMRWOHeader As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            Fill: =RGBA(7, 66, 171, 1)
            Font: =gblAppStyles.CommonFont
            FontWeight: =gblAppStyles.Header.FontWeight
            Height: =Parent.Height
            Size: =gblAppStyles.Header.FontSize
            Text: =T.WorkOrdersLabel
            Width: =Parent.Width
            ZIndex: =4

        icoCreateMRWOBackButton As icon.ChevronLeft:
            AccessibleLabel: =T.BackButtonAccessibleLabel
            Color: =Color.White
            FocusedBorderColor: =gblAppStyles.FocusBorderColor
            FocusedBorderThickness: =gblAppStyles.FocusBorderThickness
            Height: =40
            Icon: =Icon.ChevronLeft
            OnSelect: |+
                =UpdateContext({locCreateMode:""});
                Back();
                
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            TabIndex: =0
            Width: =34
            X: =12
            Y: =7
            ZIndex: =5

