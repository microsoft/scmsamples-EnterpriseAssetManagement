"'Maintenance Requests List Screen' As screen":
    Fill: =gblAppColors.Background
    OnVisible: =Set(gblPreviousScreen, Self)

    galRequestsList As gallery.variableTemplateHeightGallery:
        '#CopilotOverlayLabel': ="Filtered"
        Height: =Parent.Height - conCreateMRListHeader.Height -8
        Items: |-
            =If(
                locCreateMode = C.Creation.CreateFromLocation, 
                Filter(
                    'Maintenance Requests',
                    'Functional location' = locLocation.'Functional location (mserp_functionallocationid)' And 
                    'Company Code' = locLocation.'Company Code',
                    Active = 'NoYes (mserp)'.Yes
                ),
                locCreateMode = C.Creation.CreateFromAsset,
                Filter(
                    'Maintenance Requests',
                    Asset = locAsset.'Asset (mserp_maintenanceassetid)' And 
                    'Company Code' = locAsset.'Company Code',
                    Active = 'NoYes (mserp)'.Yes
                )
            )
        Layout: =Layout.Vertical
        OnSelect: =false //Navigation to MR details is not currently supported
        ShowScrollbar: =false
        TemplatePadding: =0
        TemplateSize: =200
        Width: =Parent.Width
        Y: =conCreateMRListHeader.Height
        ZIndex: =2

        htmlRequestsListCardBackground As htmlViewer:
            DisabledBorderColor: =RGBA(56, 56, 56, 1)
            Height: =Parent.TemplateHeight
            HtmlText: |-
                ="<div style=""padding: 5px 8px 10px;height:100%;position:absolute;width:100%;box-sizing:border-box;""><div style=""background-color:#fff;box-shadow:0px 2px 4px rgba(0,0,0,0.14),0px 0px 2px rgba(0,0,0, 0.12);border-radius:15px;height:100%;width:100%;""></div></div>"
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            Width: =Parent.Width
            ZIndex: =1

        conVerticalRequestsListCard As groupContainer.verticalAutoLayoutContainer:
            Height: =Parent.TemplateHeight
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =8
            LayoutMode: =LayoutMode.Auto
            PaddingBottom: =12
            PaddingLeft: =20
            PaddingRight: =12
            PaddingTop: =24
            Width: =Parent.TemplateWidth
            ZIndex: =2

            lblRequestsListCardHeader As label:
                Color: =gblAppColors.Tag
                Font: =gblAppStyles.Label.Font
                FontWeight: =gblAppStyles.Label.FontWeight
                Height: =16
                LayoutMinHeight: =22
                OnSelect: =Select(galRequestsList)
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =gblAppStyles.Label.FontSize
                Text: =ThisItem.'Maintenance request'
                Width: =Parent.Width - Parent.PaddingLeft - Parent.PaddingRight
                Wrap: =false
                ZIndex: =3

            lblRequestsListCardDescription As label:
                Color: =gblAppColors.Tag
                Font: =gblAppStyles.CommonFont
                FontWeight: =FontWeight.Semibold
                Height: =22
                PaddingLeft: =0
                PaddingRight: =0
                Size: =gblAppStyles.HeadLine.FontSize
                Text: =ThisItem.Description
                Visible: =If(IsBlank(Self.Text),false,true)
                Width: =Parent.Width - Parent.PaddingLeft - Parent.PaddingRight
                Wrap: =false
                ZIndex: =4

            lblRequestsListCardNotes As label:
                Color: =gblAppColors.Tag
                Font: |
                    =gblAppStyles.DefaultText.Font
                Height: =17
                LineHeight: =22
                PaddingLeft: =0
                PaddingRight: =0
                Size: =gblAppStyles.DefaultText.FontSize
                Text: =ThisItem.Note
                Tooltip: =Self.Text
                Visible: =If(IsBlank(Self.Text),false,true)
                Width: =Parent.Width - Parent.PaddingLeft - Parent.PaddingRight
                Wrap: =false
                ZIndex: =5

            conRequestsListAssetOrLocation As groupContainer.manualLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =20
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                Width: =Parent.Width - Parent.PaddingLeft - Parent.PaddingRight
                ZIndex: =6

                lblRequestsListAssetOrLocation As label:
                    Color: =gblAppColors.Tag
                    Font: =gblAppStyles.CommonFont
                    FontWeight: =FontWeight.Semibold
                    Height: =Parent.Height
                    PaddingLeft: =0
                    Size: =gblAppStyles.Label.FontSize
                    Text: =If(IsBlank(ThisItem.Asset),ThisItem.'Functional location',ThisItem.Asset)
                    Width: =Parent.Width - lblRequestsListAssetOrLocation.X
                    Wrap: =false
                    X: =icoRequestsListAssetOrLocation.X + icoRequestsListAssetOrLocation.Width + 5
                    Y: =Parent.Height / 2 - Self.Height / 2
                    ZIndex: =2

                icoRequestsListAssetOrLocation As icon.Manufacture:
                    Color: =gblAppColors.AccentPositive
                    Fill: =gblAppColors.Neutral
                    Height: =gblAppStyles.Icons.Height
                    Icon: =If(IsBlank(ThisItem.Asset),Icon.Waypoint,Icon.Manufacture)
                    Width: =gblAppStyles.Icons.Width
                    Y: =Parent.Height / 2 - Self.Height / 2
                    ZIndex: =3

            conRequestsListRequestType As groupContainer.manualLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =20
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                Width: =Parent.Width - Parent.PaddingLeft - Parent.PaddingRight
                ZIndex: =7

                lblRequestsListRequestType As label:
                    Color: =gblAppColors.Tag
                    Font: =gblAppStyles.CommonFont
                    FontWeight: =FontWeight.Semibold
                    Height: =Parent.Height
                    PaddingLeft: =0
                    Size: =gblAppStyles.Label.FontSize
                    Text: =ThisItem.'Maintenance request type'
                    Width: =Parent.Width - lblRequestsListRequestType.X
                    Wrap: =false
                    X: =icoRequestsListRequestType.X + icoRequestsListRequestType.Width + 5
                    Y: =Parent.Height / 2 - Self.Height / 2
                    ZIndex: =2

                icoRequestsListRequestType As icon.Manufacture:
                    Color: =gblAppColors.AccentReporter
                    Fill: =gblAppColors.Neutral
                    Height: =gblAppStyles.Icons.Height
                    Icon: =Icon.Tag
                    Width: =gblAppStyles.Icons.Width
                    Y: =Parent.Height / 2 - Self.Height / 2
                    ZIndex: =3

            conRequestsListServiceLevel As groupContainer.manualLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =20
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                Width: =Parent.Width - Parent.PaddingLeft - Parent.PaddingRight
                ZIndex: =8

                lblRequestListServiceLevel As label:
                    Color: =gblAppColors.Tag
                    Font: =gblAppStyles.CommonFont
                    FontWeight: =FontWeight.Semibold
                    Height: =Parent.Height
                    PaddingLeft: =0
                    Size: =gblAppStyles.Label.FontSize
                    Text: =ThisItem.'Asset management work order service levels'.'Name (mserp_formattedservicelevelname)'
                    Width: =Parent.Width - lblRequestListServiceLevel.X
                    Wrap: =false
                    X: =icoRequestsListServiceLevel.X + icoRequestsListServiceLevel.Width + 5
                    Y: =Parent.Height / 2 - Self.Height / 2
                    ZIndex: =2

                icoRequestsListServiceLevel As icon.Manufacture:
                    Color: =gblAppColors.AccentInfo3
                    Fill: =gblAppColors.Neutral
                    Height: =gblAppStyles.Icons.Height
                    Icon: =Icon.Flag
                    Width: =gblAppStyles.Icons.Width
                    Y: =Parent.Height / 2 - Self.Height / 2
                    ZIndex: =3

    conCreateMRListHeader As groupContainer.manualLayoutContainer:
        Height: =54
        Width: =Parent.Width
        ZIndex: =3

        lblCreateMRListHeader As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            Fill: =RGBA(7, 66, 171, 1)
            Font: =gblAppStyles.CommonFont
            FontWeight: =gblAppStyles.Header.FontWeight
            Height: =Parent.Height
            Size: =gblAppStyles.Header.FontSize
            Text: =T.MaintenanceRequestsExistingLabel
            Width: =Parent.Width
            ZIndex: =4

        icoCreateMRListBackButton As icon.ChevronLeft:
            AccessibleLabel: =T.BackButtonAccessibleLabel
            Color: =Color.White
            FocusedBorderColor: =gblAppStyles.FocusBorderColor
            FocusedBorderThickness: =gblAppStyles.FocusBorderThickness
            Height: =40
            Icon: =Icon.ChevronLeft
            OnSelect: |+
                =UpdateContext({locCreateMode:""});
                Back();
                
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            TabIndex: =0
            Width: =34
            X: =12
            Y: =7
            ZIndex: =5

